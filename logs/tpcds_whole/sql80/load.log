main.py:19: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2023-07-05 13:37:49,007 - main.py[line:642] - INFO: load query config config/tpcds_whole/query/sql80.json successfully
2023-07-05 13:37:49,007 - main.py[line:649] - INFO: load train config ./config/tpcds_whole/train/80_store_sales.json successfully
2023-07-05 13:37:49,007 - main.py[line:649] - INFO: load train config ./config/tpcds_whole/train/80_store_returns.json successfully
2023-07-05 13:37:49,007 - main.py[line:649] - INFO: load train config ./config/tpcds_whole/train/3_date_dim.json successfully
2023-07-05 13:37:49,007 - main.py[line:649] - INFO: load train config ./config/tpcds_whole/train/70_store.json successfully
2023-07-05 13:37:49,007 - main.py[line:649] - INFO: load train config ./config/tpcds_whole/train/86_item.json successfully
2023-07-05 13:37:49,007 - main.py[line:649] - INFO: load train config ./config/tpcds_whole/train/80_promotion.json successfully
2023-07-05 13:37:49,008 - dataset_utils.py[line:585] - INFO: load existing dataset(light):80-store_sales_ss_item_sk#ss_sold_date_sk#ss_store_sk#ss_promo_sk_ss_ext_sales_price_ss_store_sk_binary_gaussian5_0
2023-07-05 13:37:50,691 - dataset_utils.py[line:594] - INFO: load dataset(light) time elapsed:1.6839217508677393
2023-07-05 13:37:50,692 - pytorch_cvae.py[line:280] - INFO: feature info:[('ss_ext_sales_price', 'numerical', 6), ('ss_item_sk', 'categorical', 16), ('ss_sold_date_sk', 'categorical', 12), ('ss_store_sk', 'categorical', 4), ('ss_promo_sk', 'categorical', 10)]
2023-07-05 13:37:50,693 - model_utils.py[line:75] - INFO: load model name:torch_cvae_80-store_sales_ss_store_sk_ld100_id100_bs512_ep100_0_binary_gaussian5
2023-07-05 13:37:52,947 - model_utils.py[line:86] - INFO: load torch model time elapsed:2.254419723059982
2023-07-05 13:37:52,947 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:3.939935461152345
2023-07-05 13:37:52,948 - dataset_utils.py[line:585] - INFO: load existing dataset(light):80-store_returns_sr_item_sk__sr_item_sk_binary_gaussian5_0
2023-07-05 13:37:53,045 - dataset_utils.py[line:594] - INFO: load dataset(light) time elapsed:0.09746349416673183
2023-07-05 13:37:53,045 - pytorch_cvae.py[line:280] - INFO: feature info:[('sr_item_sk', 'categorical', 16)]
2023-07-05 13:37:53,046 - model_utils.py[line:75] - INFO: load model name:torch_cvae_80-store_returns_sr_item_sk_ld100_id100_bs128_ep100_0_binary_gaussian5
2023-07-05 13:37:53,047 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0016051719430834055
2023-07-05 13:37:53,047 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:0.09999679890461266
2023-07-05 13:37:53,048 - dataset_utils.py[line:585] - INFO: load existing dataset(light):3-date_dim_d_date_sk#d_year#d_qoy__d_date_sk#d_year#d_qoy_binary_gaussian5_0
2023-07-05 13:37:53,120 - dataset_utils.py[line:594] - INFO: load dataset(light) time elapsed:0.07261256710626185
2023-07-05 13:37:53,120 - pytorch_cvae.py[line:280] - INFO: feature info:[('d_date_sk', 'categorical', 18), ('d_year', 'categorical', 9), ('d_qoy', 'categorical', 3)]
2023-07-05 13:37:53,121 - model_utils.py[line:75] - INFO: load model name:torch_cvae_3-date_dim_d_date_sk_d_year_d_qoy_ld100_id150_bs128_ep100_0_binary_gaussian5
2023-07-05 13:37:53,123 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0016833031550049782
2023-07-05 13:37:53,123 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:0.07531348615884781
2023-07-05 13:37:53,123 - dataset_utils.py[line:585] - INFO: load existing dataset(light):70-store_s_store_sk#s_store_id#s_store_name#s_state#s_county__s_store_sk#s_store_id#s_store_name#s_state#s_county_binary_gaussian5_0
2023-07-05 13:37:53,125 - dataset_utils.py[line:594] - INFO: load dataset(light) time elapsed:0.0021190450061112642
2023-07-05 13:37:53,125 - pytorch_cvae.py[line:280] - INFO: feature info:[('s_store_sk', 'categorical', 5), ('s_store_id', 'categorical', 4), ('s_store_name', 'categorical', 4), ('s_state', 'categorical', 1), ('s_county', 'categorical', 1)]
2023-07-05 13:37:53,126 - model_utils.py[line:75] - INFO: load model name:torch_cvae_70-store_s_store_sk_s_store_id_s_store_name_s_state_s_county_ld100_id150_bs128_ep100_0_binary_gaussian5
2023-07-05 13:37:53,127 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0014625010080635548
2023-07-05 13:37:53,127 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:0.00437004491686821
2023-07-05 13:37:53,127 - dataset_utils.py[line:585] - INFO: load existing dataset(light):86-item_i_item_sk#i_category#i_class#i_item_id#i_brand#i_brand_id__i_item_sk#i_category#i_class#i_item_id#i_brand#i_brand_id_binary_gaussian5_0
2023-07-05 13:37:53,149 - dataset_utils.py[line:594] - INFO: load dataset(light) time elapsed:0.02155714901164174
2023-07-05 13:37:53,149 - pytorch_cvae.py[line:280] - INFO: feature info:[('i_item_sk', 'categorical', 16), ('i_category', 'categorical', 5), ('i_class', 'categorical', 8), ('i_item_id', 'categorical', 15), ('i_brand', 'categorical', 11), ('i_brand_id', 'categorical', 11)]
2023-07-05 13:37:53,150 - model_utils.py[line:75] - INFO: load model name:torch_cvae_86-item_i_item_sk_i_category_i_class_i_item_id_i_brand_i_brand_id_ld100_id150_bs128_ep100_0_binary_gaussian5
2023-07-05 13:37:53,152 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0017378509510308504
2023-07-05 13:37:53,152 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:0.024330475833266973
2023-07-05 13:37:53,152 - dataset_utils.py[line:585] - INFO: load existing dataset(light):80-promotion_p_promo_sk__p_promo_sk_binary_gaussian5_0
2023-07-05 13:37:53,153 - dataset_utils.py[line:594] - INFO: load dataset(light) time elapsed:0.001367779914289713
2023-07-05 13:37:53,153 - pytorch_cvae.py[line:280] - INFO: feature info:[('p_promo_sk', 'categorical', 10)]
2023-07-05 13:37:53,154 - model_utils.py[line:75] - INFO: load model name:torch_cvae_80-promotion_p_promo_sk_ld100_id150_bs128_ep100_0_binary_gaussian5
2023-07-05 13:37:53,155 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0015145009383559227
2023-07-05 13:37:53,155 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:0.003655744018033147
2023-07-05 13:37:53,155 - main.py[line:572] - INFO: multi_sampling No.0 epoch
2023-07-05 13:37:54,037 - pytorch_cvae.py[line:407] - INFO: sampling time:0.8813130431808531
2023-07-05 13:37:54,037 - dataset_utils.py[line:566] - INFO: load existing dataset:80-store_returns_sr_item_sk__sr_item_sk_binary_gaussian5_0
2023-07-05 13:37:54,213 - dataset_utils.py[line:578] - INFO: load dataset time elapsed:0.1755753569304943
2023-07-05 13:37:54,214 - dataset_utils.py[line:566] - INFO: load existing dataset:3-date_dim_d_date_sk#d_year#d_qoy__d_date_sk#d_year#d_qoy_binary_gaussian5_0
2023-07-05 13:37:54,305 - dataset_utils.py[line:578] - INFO: load dataset time elapsed:0.09127853903919458
2023-07-05 13:37:54,309 - dataset_utils.py[line:566] - INFO: load existing dataset:70-store_s_store_sk#s_store_id#s_store_name#s_state#s_county__s_store_sk#s_store_id#s_store_name#s_state#s_county_binary_gaussian5_0
2023-07-05 13:37:54,312 - dataset_utils.py[line:578] - INFO: load dataset time elapsed:0.0026943080592900515
2023-07-05 13:37:54,319 - dataset_utils.py[line:566] - INFO: load existing dataset:86-item_i_item_sk#i_category#i_class#i_item_id#i_brand#i_brand_id__i_item_sk#i_category#i_class#i_item_id#i_brand#i_brand_id_binary_gaussian5_0
2023-07-05 13:37:54,353 - dataset_utils.py[line:578] - INFO: load dataset time elapsed:0.033960752887651324
2023-07-05 13:37:54,353 - dataset_utils.py[line:566] - INFO: load existing dataset:80-promotion_p_promo_sk__p_promo_sk_binary_gaussian5_0
2023-07-05 13:37:54,355 - dataset_utils.py[line:578] - INFO: load dataset time elapsed:0.001759630162268877
2023-07-05 13:37:54,783 - main.py[line:555] - INFO: sample and aggregation time elapsed:1.627678019925952
2023-07-05 13:37:54,786 - main.py[line:593] - INFO: sample time: 1.6307741519995034
2023-07-05 13:37:54,806 - main.py[line:104] - INFO: aqp result:
                  avg(ss_ext_sales_price)  sum(ss_ext_sales_price)
s_store_id                                                        
AAAAAAAABAAAAAAA 1890.13                  14746956034.35          
AAAAAAAACAAAAAAA 1954.62                  16559272413.14          
AAAAAAAAEAAAAAAA 1878.74                  14937738587.66          
AAAAAAAAHAAAAAAA 1848.11                  14981094888.63          
AAAAAAAAIAAAAAAA 1902.72                  15839386141.90          
AAAAAAAAKAAAAAAA 2009.77                  16391617874.13          
2023-07-05 13:37:54,808 - main.py[line:105] - INFO: ground truth:
                  sum(ss_ext_sales_price)  avg(ss_ext_sales_price)
s_store_id                                                        
AAAAAAAABAAAAAAA  78390067                1921.00                 
AAAAAAAACAAAAAAA  78012884                1924.58                 
AAAAAAAAEAAAAAAA  77326780                1899.41                 
AAAAAAAAHAAAAAAA  78277166                1914.85                 
AAAAAAAAIAAAAAAA  77982127                1916.54                 
AAAAAAAAKAAAAAAA  77512480                1907.30                 
2023-07-05 13:37:54,814 - main.py[line:611] - INFO: relative error:
                  avg(ss_ext_sales_price)  sum(ss_ext_sales_price)
s_store_id                                                        
AAAAAAAABAAAAAAA 0.02                     187.12                  
AAAAAAAACAAAAAAA 0.02                     211.26                  
AAAAAAAAEAAAAAAA 0.01                     192.18                  
AAAAAAAAHAAAAAAA 0.03                     190.39                  
AAAAAAAAIAAAAAAA 0.01                     202.12                  
AAAAAAAAKAAAAAAA 0.05                     210.47                  
2023-07-05 13:37:54,815 - main.py[line:612] - INFO: relative error normalized:
                  avg(ss_ext_sales_price)
s_store_id                               
AAAAAAAABAAAAAAA 0.02                    
AAAAAAAACAAAAAAA 0.02                    
AAAAAAAAEAAAAAAA 0.01                    
AAAAAAAAHAAAAAAA 0.03                    
AAAAAAAAIAAAAAAA 0.01                    
AAAAAAAAKAAAAAAA 0.05                    
2023-07-05 13:37:54,815 - main.py[line:615] - INFO: relative error average: 99.47272790395334
2023-07-05 13:37:54,815 - main.py[line:616] - INFO: relative error normalized average: 0.022665978679922
2023-07-05 13:37:54,879 - main.py[line:662] - INFO: total_time:5.872508659027517