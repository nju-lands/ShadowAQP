main.py:19: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2023-05-19 14:02:36,141 - main.py[line:600] - INFO: load query config config/query/customer_join_nation.json successfully
2023-05-19 14:02:36,141 - main.py[line:607] - INFO: load train config ./config/train/tpch_customer_torch_cvae.json successfully
2023-05-19 14:02:36,141 - main.py[line:607] - INFO: load train config ./config/train/tpch_nation_torch_cvae.json successfully
2023-05-19 14:02:36,141 - dataset_utils.py[line:571] - INFO: load existing dataset(light):tpch-20g-customer_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2023-05-19 14:02:36,709 - dataset_utils.py[line:580] - INFO: load dataset(light) time elapsed:0.5672658929834142
2023-05-19 14:02:36,709 - pytorch_cvae.py[line:280] - INFO: feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2023-05-19 14:02:36,710 - model_utils.py[line:75] - INFO: load model name:torch_cvae_tpch-20g-customer_c_nationkey_ld50_id100_bs1024_ep150_0_binary_gaussian5
2023-05-19 14:02:38,743 - model_utils.py[line:86] - INFO: load torch model time elapsed:2.03247844602447
2023-05-19 14:02:38,743 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:2.601306983968243
2023-05-19 14:02:38,743 - dataset_utils.py[line:571] - INFO: load existing dataset(light):tpch-35g-nation_n_nationkey#n_name__n_nationkey_binary_mm_0
2023-05-19 14:02:38,744 - dataset_utils.py[line:580] - INFO: load dataset(light) time elapsed:0.0015414359513670206
2023-05-19 14:02:38,744 - pytorch_cvae.py[line:280] - INFO: feature info:[('n_nationkey', 'categorical', 6), ('n_name', 'categorical', 6)]
2023-05-19 14:02:38,745 - model_utils.py[line:75] - INFO: load model name:torch_cvae_tpch-35g-nation_n_nationkey_ld100_id150_bs128_ep100_0_binary_mm
2023-05-19 14:02:38,746 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0013926619431003928
2023-05-19 14:02:38,747 - pytorch_cvae.py[line:290] - INFO: load model time elapsed:0.0037163730012252927
2023-05-19 14:02:38,747 - main.py[line:540] - INFO: multi_sampling No.0 epoch
2023-05-19 14:02:39,252 - pytorch_cvae.py[line:407] - INFO: sampling time:0.5052000879077241
2023-05-19 14:02:39,252 - dataset_utils.py[line:552] - INFO: load existing dataset:tpch-35g-nation_n_nationkey#n_name__n_nationkey_binary_mm_0
2023-05-19 14:02:39,254 - dataset_utils.py[line:564] - INFO: load dataset time elapsed:0.001975368009880185
2023-05-19 14:02:39,270 - main.py[line:524] - INFO: sample and aggregation time elapsed:0.5231098179938272
2023-05-19 14:02:39,273 - main.py[line:557] - INFO: sample time: 0.5267982250079513
2023-05-19 14:02:39,285 - main.py[line:101] - INFO: aqp result:
                avg(c_acctbal)  sum(c_acctbal)
n_name                                        
ALGERIA        4354.97         521964367.54   
ARGENTINA      4544.32         544491463.52   
BRAZIL         4358.50         522828625.58   
CANADA         4803.31         576195619.16   
CHINA          4835.50         579553484.23   
EGYPT          4325.27         519071646.19   
ETHIOPIA       4615.36         555851253.91   
FRANCE         4254.88         512240205.83   
GERMANY        4596.01         551994963.80   
INDIA          4699.01         566263790.22   
INDONESIA      4478.52         538657909.52   
IRAN           4380.71         526636268.71   
IRAQ           4378.73         525553202.33   
JAPAN          4289.77         512060719.18   
JORDAN         4562.63         544293917.26   
KENYA          4202.84         502113051.14   
MOROCCO        4287.81         514433782.22   
MOZAMBIQUE     4536.07         542967759.43   
PERU           4652.10         557693246.10   
ROMANIA        4426.35         531047305.71   
RUSSIA         4238.04         508073745.94   
SAUDI ARABIA   4173.46         502000869.37   
UNITED KINGDOM 4697.62         566913994.90   
UNITED STATES  4701.06         564489411.00   
VIETNAM        4510.54         541313935.17   
2023-05-19 14:02:39,288 - main.py[line:102] - INFO: ground truth:
                avg(c_acctbal)  sum(c_acctbal)
n_name                                        
ALGERIA        4498.60         539179132.56   
ARGENTINA      4487.74         537712316.92   
BRAZIL         4502.58         540111208.72   
CANADA         4497.83         539550781.18   
CHINA          4498.16         539122418.82   
EGYPT          4499.53         539984141.53   
ETHIOPIA       4498.32         541755384.74   
FRANCE         4494.25         541057901.35   
GERMANY        4493.81         539720485.08   
INDIA          4510.40         543534349.52   
INDONESIA      4497.02         540883690.44   
IRAN           4504.83         541557576.78   
IRAQ           4509.38         541234034.38   
JAPAN          4495.17         536578990.22   
JORDAN         4503.11         537193552.56   
KENYA          4503.27         538005946.84   
MOROCCO        4494.62         539246776.35   
MOZAMBIQUE     4507.15         539505894.77   
PERU           4496.58         539050477.33   
ROMANIA        4484.52         538026061.76   
RUSSIA         4515.14         541292914.28   
SAUDI ARABIA   4511.07         542610117.90   
UNITED KINGDOM 4493.32         542258002.88   
UNITED STATES  4500.03         540349688.07   
VIETNAM        4499.61         540002514.42   
2023-05-19 14:02:39,294 - main.py[line:569] - INFO: relative error:
                avg(c_acctbal)  sum(c_acctbal)
n_name                                        
ALGERIA        0.03            0.03           
ARGENTINA      0.01            0.01           
BRAZIL         0.03            0.03           
CANADA         0.07            0.07           
CHINA          0.07            0.07           
EGYPT          0.04            0.04           
ETHIOPIA       0.03            0.03           
FRANCE         0.05            0.05           
GERMANY        0.02            0.02           
INDIA          0.04            0.04           
INDONESIA      0.00            0.00           
IRAN           0.03            0.03           
IRAQ           0.03            0.03           
JAPAN          0.05            0.05           
JORDAN         0.01            0.01           
KENYA          0.07            0.07           
MOROCCO        0.05            0.05           
MOZAMBIQUE     0.01            0.01           
PERU           0.03            0.03           
ROMANIA        0.01            0.01           
RUSSIA         0.06            0.06           
SAUDI ARABIA   0.07            0.07           
UNITED KINGDOM 0.05            0.05           
UNITED STATES  0.04            0.04           
VIETNAM        0.00            0.00           
2023-05-19 14:02:39,296 - main.py[line:570] - INFO: relative error normalized:
                avg(c_acctbal)  sum(c_acctbal)
n_name                                        
ALGERIA        0.03            0.03           
ARGENTINA      0.01            0.01           
BRAZIL         0.03            0.03           
CANADA         0.07            0.07           
CHINA          0.07            0.07           
EGYPT          0.04            0.04           
ETHIOPIA       0.03            0.03           
FRANCE         0.05            0.05           
GERMANY        0.02            0.02           
INDIA          0.04            0.04           
INDONESIA      0.00            0.00           
IRAN           0.03            0.03           
IRAQ           0.03            0.03           
JAPAN          0.04            0.04           
JORDAN         0.01            0.01           
KENYA          0.06            0.06           
MOROCCO        0.04            0.04           
MOZAMBIQUE     0.01            0.01           
PERU           0.03            0.03           
ROMANIA        0.01            0.01           
RUSSIA         0.06            0.06           
SAUDI ARABIA   0.07            0.07           
UNITED KINGDOM 0.04            0.04           
UNITED STATES  0.04            0.04           
VIETNAM        0.00            0.00           
2023-05-19 14:02:39,296 - main.py[line:573] - INFO: relative error average: 0.0366819378486933
2023-05-19 14:02:39,296 - main.py[line:574] - INFO: relative error normalized average: 0.03579840280825012
2023-05-19 14:02:39,298 - main.py[line:620] - INFO: total_time:3.1563931460259482
