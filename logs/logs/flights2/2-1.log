main.py:19: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2022-07-07 23:10:21,803 - main.py[line:581] - INFO: load query config config/query/flights2.json successfully
2022-07-07 23:10:21,803 - main.py[line:588] - INFO: load train config ./config/train/flights2_a_torch_cvae.json successfully
2022-07-07 23:10:21,803 - main.py[line:588] - INFO: load train config ./config/train/flights2_b_torch_cvae.json successfully
2022-07-07 23:10:21,803 - dataset_utils.py[line:567] - INFO: load existing dataset(light):flights2-flight-a_a_origin_state_abr#a_unique_carrier_a_taxi_out#a_air_time#a_distance_a_origin_state_abr#a_unique_carrier_binary_mm_0
2022-07-07 23:10:21,954 - dataset_utils.py[line:576] - INFO: load dataset(light) time elapsed:0.15081876143813133
2022-07-07 23:10:21,954 - pytorch_cvae.py[line:276] - INFO: feature info:[('a_taxi_out', 'numerical', 1), ('a_air_time', 'numerical', 1), ('a_distance', 'numerical', 1), ('a_origin_state_abr', 'categorical', 7), ('a_unique_carrier', 'categorical', 6)]
2022-07-07 23:10:21,955 - model_utils.py[line:75] - INFO: load model name:torch_cvae_flights2-flight-a_a_origin_state_abr_a_unique_carrier_ld100_id150_bs512_ep150_0_binary_mm
2022-07-07 23:10:23,982 - model_utils.py[line:86] - INFO: load torch model time elapsed:2.0261610075831413
2022-07-07 23:10:23,982 - pytorch_cvae.py[line:286] - INFO: load model time elapsed:2.178669575601816
2022-07-07 23:10:23,982 - dataset_utils.py[line:567] - INFO: load existing dataset(light):flights2-flight-b_b_origin_state_abr__b_origin_state_abr_binary_mm_0
2022-07-07 23:10:24,005 - dataset_utils.py[line:576] - INFO: load dataset(light) time elapsed:0.023500170558691025
2022-07-07 23:10:24,005 - pytorch_cvae.py[line:276] - INFO: feature info:[('b_origin_state_abr', 'categorical', 7)]
2022-07-07 23:10:24,006 - model_utils.py[line:75] - INFO: load model name:torch_cvae_flights2-flight-b_b_origin_state_abr_ld50_id100_bs512_ep100_0_binary_mm
2022-07-07 23:10:24,007 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0014309883117675781
2022-07-07 23:10:24,007 - pytorch_cvae.py[line:286] - INFO: load model time elapsed:0.025710400193929672
2022-07-07 23:10:24,007 - main.py[line:525] - INFO: multi_sampling No.0 epoch
2022-07-07 23:10:25,419 - pytorch_cvae.py[line:399] - INFO: sampling time:1.405993603169918
2022-07-07 23:10:25,458 - pytorch_cvae.py[line:419] - INFO: house sampling rate:0.05
2022-07-07 23:10:25,520 - pytorch_cvae.py[line:399] - INFO: sampling time:0.06205818057060242
2022-07-07 23:10:26,048 - main.py[line:509] - INFO: sample and aggregation time elapsed:2.040272306650877
2022-07-07 23:10:26,052 - main.py[line:542] - INFO: sample time: 2.0447639636695385
2022-07-07 23:10:26,073 - main.py[line:99] - INFO: aqp result:
                  avg(a_taxi_out)  avg(a_air_time)  avg(a_distance)  \
a_unique_carrier                                                      
9E               17.46            1217.25          697.98             
AA               17.09            1218.95          722.88             
AQ               17.40            1221.69          729.32             
AS               17.26            1216.81          708.15             
B6               17.52            1217.04          708.24             
CO               17.45            1216.04          712.42             
DH               18.04            1216.96          721.90             
DL               17.41            1217.16          744.53             
EV               17.62            1218.06          745.80             
F9               17.15            1218.23          741.28             
FL               17.67            1218.92          745.53             
HA               17.19            1216.40          739.05             
HP               17.78            1220.11          746.89             
MQ               17.49            1215.59          733.67             
NK               17.05            1218.99          748.52             
NW               16.30            1220.55          740.58             
OH (1)           16.91            1220.05          740.78             
OO               16.81            1218.20          736.91             
TW               16.91            1221.65          766.35             
TZ               16.74            1218.88          761.42             
UA               16.97            1220.07          743.90             
US               16.73            1218.28          738.11             
VX               17.04            1219.95          735.17             
WN               16.49            1219.29          726.11             
XE               17.24            1218.96          728.29             
YV               16.62            1221.82          738.80             

                  sum(a_taxi_out)  sum(a_air_time)  sum(a_distance)  
a_unique_carrier                                                     
9E               1003996874.88    70768740492.74   40346610004.59    
AA               9090201762.00    643830761733.86  376352262925.66   
AQ               68221286.62      4865162420.20    2912030587.76     
AS               1941939616.58    138143140696.83  79898473444.39    
B6               1574559749.95    112389598978.07  66395566014.82    
CO               3350657205.64    229472783136.08  131449366845.14   
DH               414159215.86     27916837781.37   16766911405.82    
DL               9662617767.31    666300918484.36  416246246887.39   
EV               3380853821.90    236218205554.86  150710143568.94   
F9               648951312.38     45865137778.86   28246445316.07    
FL               1529894617.92    107501998713.55  67898324374.25    
HA               504891813.08     35500350734.25   21726899736.23    
HP               1317577344.88    92980355529.85   58377345171.82    
MQ               3971766723.79    272962572243.51  163627814835.71   
NK               147330993.51     10687834255.11   6656909693.46     
NW               3886440345.63    292576102255.05  178454663090.61   
OH (1)           964944312.21     72103165966.44   45339566966.08    
OO               4864974328.74    358285292680.17  219609765316.09   
TW               1017690943.30    75875527101.81   48640179608.62    
TZ               95597594.56      6949626428.70    4326318059.63     
UA               7206042018.80    528127480327.35  335118274719.46   
US               6214132963.60    448971856171.20  273458724710.14   
VX               165116419.56     12165627515.59   7588792519.91     
WN               13717301139.63   999124946356.36  594473419880.01   
XE               1869248778.90    134614939912.22  82598245152.71    
YV               916121275.97     69047415791.49   42330255671.09    
2022-07-07 23:10:26,076 - main.py[line:100] - INFO: ground truth:
                  sum(a_taxi_out)  avg(a_taxi_out)  sum(a_air_time)  \
a_unique_carrier                                                      
9E               741101698.57     15.15            58880704989.57     
AA               7989875051.98    15.55            619430514363.80    
AQ               86631196.39      15.87            6543460866.54      
AS               1848560227.43    15.43            144331558233.33    
B6               1470850178.74    15.60            113799492628.54    
CO               3106668746.22    15.59            240048308499.97    
DH               367218921.85     15.49            28440016722.48     
DL               8981685488.31    15.57            695773932714.29    
EV               3181962351.09    15.68            244702638367.97    
F9               570577147.90     15.46            44476849990.55     
FL               1395415570.15    15.59            107894733721.66    
HA               494281312.53     15.56            38211095213.40     
HP               1227584010.63    15.51            95391382060.99     
MQ               3759015081.03    15.64            289433438181.99    
NK               147254628.38     15.47            11455447903.05     
NW               3904891886.94    15.58            301859529285.21    
OH (1)           952968179.55     15.37            74636252791.26     
OO               4367541877.63    15.47            340289304596.67    
TW               1004435409.83    15.42            78568723096.25     
TZ               121899826.21     16.84            8729112894.46      
UA               6832602622.78    15.61            527301016058.02    
US               6092371671.52    15.74            466392055985.71    
VX               167606958.73     14.81            13654805413.23     
WN               12522355213.58   15.53            971806211739.94    
XE               1848841981.24    15.61            142753704429.07    
YV               951495612.18     15.81            72725041886.37     

                  avg(a_air_time)  sum(a_distance)  avg(a_distance)  
a_unique_carrier                                                     
9E               1203.99          35711788851.31   730.23            
AA               1205.41          381243748002.27  741.90            
AQ               1198.81          3790834029.22    694.51            
AS               1205.11          88696395636.76   740.58            
B6               1207.26          71473179185.90   758.23            
CO               1204.64          146402774103.50  734.70            
DH               1199.47          16449517708.08   693.76            
DL               1205.97          430329104776.58  745.88            
EV               1205.57          150835474033.21  743.12            
F9               1205.36          27325788632.97   740.55            
FL               1205.30          66527232060.59   743.18            
HA               1203.07          22898614485.52   720.96            
HP               1205.34          58487708653.73   739.03            
MQ               1204.36          176132606008.73  732.90            
NK               1203.73          6925756819.23    727.75            
NW               1204.24          183277498856.54  731.17            
OH (1)           1203.89          45360575256.62   731.67            
OO               1204.93          208420476170.33  738.00            
TW               1206.18          48659767530.98   747.02            
TZ               1205.89          5310019388.65    733.55            
UA               1204.95          322665183451.92  737.33            
US               1204.84          285669645091.13  737.97            
VX               1206.36          8547076307.99    755.11            
WN               1204.92          595750659418.91  738.66            
XE               1205.52          87848470069.39   741.86            
YV               1208.26          46183746721.52   767.30            
2022-07-07 23:10:26,085 - main.py[line:550] - INFO: relative error:
                  avg(a_air_time)  avg(a_distance)  avg(a_taxi_out)  \
a_unique_carrier                                                      
9E               0.01             0.04             0.15               
AA               0.01             0.03             0.10               
AQ               0.02             0.05             0.10               
AS               0.01             0.04             0.12               
B6               0.01             0.07             0.12               
CO               0.01             0.03             0.12               
DH               0.01             0.04             0.16               
DL               0.01             0.00             0.12               
EV               0.01             0.00             0.12               
F9               0.01             0.00             0.11               
FL               0.01             0.00             0.13               
HA               0.01             0.03             0.10               
HP               0.01             0.01             0.15               
MQ               0.01             0.00             0.12               
NK               0.01             0.03             0.10               
NW               0.01             0.01             0.05               
OH (1)           0.01             0.01             0.10               
OO               0.01             0.00             0.09               
TW               0.01             0.03             0.10               
TZ               0.01             0.04             0.01               
UA               0.01             0.01             0.09               
US               0.01             0.00             0.06               
VX               0.01             0.03             0.15               
WN               0.01             0.02             0.06               
XE               0.01             0.02             0.10               
YV               0.01             0.04             0.05               

                  sum(a_air_time)  sum(a_distance)  sum(a_taxi_out)  
a_unique_carrier                                                     
9E               0.20             0.13             0.35              
AA               0.04             0.01             0.14              
AQ               0.26             0.23             0.21              
AS               0.04             0.10             0.05              
B6               0.01             0.07             0.07              
CO               0.04             0.10             0.08              
DH               0.02             0.02             0.13              
DL               0.04             0.03             0.08              
EV               0.03             0.00             0.06              
F9               0.03             0.03             0.14              
FL               0.00             0.02             0.10              
HA               0.07             0.05             0.02              
HP               0.03             0.00             0.07              
MQ               0.06             0.07             0.06              
NK               0.07             0.04             0.00              
NW               0.03             0.03             0.00              
OH (1)           0.03             0.00             0.01              
OO               0.05             0.05             0.11              
TW               0.03             0.00             0.01              
TZ               0.20             0.19             0.22              
UA               0.00             0.04             0.05              
US               0.04             0.04             0.02              
VX               0.11             0.11             0.01              
WN               0.03             0.00             0.10              
XE               0.06             0.06             0.01              
YV               0.05             0.08             0.04              
2022-07-07 23:10:26,087 - main.py[line:551] - INFO: relative error normalized:
                  avg(a_air_time)  avg(a_distance)  avg(a_taxi_out)  \
a_unique_carrier                                                      
9E               0.01             0.04             0.14               
AA               0.01             0.03             0.09               
AQ               0.02             0.05             0.09               
AS               0.01             0.04             0.11               
B6               0.01             0.06             0.12               
CO               0.01             0.03             0.11               
DH               0.01             0.04             0.15               
DL               0.01             0.00             0.11               
EV               0.01             0.00             0.12               
F9               0.01             0.00             0.10               
FL               0.01             0.00             0.12               
HA               0.01             0.02             0.10               
HP               0.01             0.01             0.14               
MQ               0.01             0.00             0.11               
NK               0.01             0.03             0.10               
NW               0.01             0.01             0.05               
OH (1)           0.01             0.01             0.10               
OO               0.01             0.00             0.08               
TW               0.01             0.03             0.09               
TZ               0.01             0.04             0.01               
UA               0.01             0.01             0.08               
US               0.01             0.00             0.06               
VX               0.01             0.03             0.14               
WN               0.01             0.02             0.06               
XE               0.01             0.02             0.10               
YV               0.01             0.04             0.05               

                  sum(a_air_time)  sum(a_distance)  sum(a_taxi_out)  
a_unique_carrier                                                     
9E               0.18             0.12             0.30              
AA               0.04             0.01             0.13              
AQ               0.23             0.21             0.19              
AS               0.04             0.09             0.05              
B6               0.01             0.07             0.07              
CO               0.04             0.10             0.08              
DH               0.02             0.02             0.12              
DL               0.04             0.03             0.07              
EV               0.03             0.00             0.06              
F9               0.03             0.03             0.13              
FL               0.00             0.02             0.09              
HA               0.07             0.05             0.02              
HP               0.02             0.00             0.07              
MQ               0.06             0.07             0.06              
NK               0.06             0.04             0.00              
NW               0.03             0.03             0.00              
OH (1)           0.03             0.00             0.01              
OO               0.05             0.05             0.11              
TW               0.03             0.00             0.01              
TZ               0.18             0.17             0.19              
UA               0.00             0.04             0.05              
US               0.04             0.04             0.02              
VX               0.10             0.11             0.01              
WN               0.03             0.00             0.09              
XE               0.06             0.06             0.01              
YV               0.05             0.08             0.04              
2022-07-07 23:10:26,087 - main.py[line:554] - INFO: relative error average: 0.05650493415511699
2022-07-07 23:10:26,087 - main.py[line:555] - INFO: relative error normalized average: 0.053340295178400866
2022-07-07 23:10:26,091 - main.py[line:601] - INFO: total_time:4.288754362612963
categorical_columns: ['a_origin_state_abr_0', 'a_origin_state_abr_1', 'a_origin_state_abr_2', 'a_origin_state_abr_3', 'a_origin_state_abr_4', 'a_origin_state_abr_5', 'a_origin_state_abr_6', 'a_unique_carrier_0', 'a_unique_carrier_1', 'a_unique_carrier_2', 'a_unique_carrier_3', 'a_unique_carrier_4', 'a_unique_carrier_5']
categorical_columns: ['b_origin_state_abr_0', 'b_origin_state_abr_1', 'b_origin_state_abr_2', 'b_origin_state_abr_3', 'b_origin_state_abr_4', 'b_origin_state_abr_5', 'b_origin_state_abr_6']
