main.py:19: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2022-07-07 23:10:51,949 - main.py[line:581] - INFO: load query config config/query/flights2.json successfully
2022-07-07 23:10:51,949 - main.py[line:588] - INFO: load train config ./config/train/flights2_a_torch_cvae.json successfully
2022-07-07 23:10:51,949 - main.py[line:588] - INFO: load train config ./config/train/flights2_b_torch_cvae.json successfully
2022-07-07 23:10:51,949 - dataset_utils.py[line:567] - INFO: load existing dataset(light):flights2-flight-a_a_origin_state_abr#a_unique_carrier_a_taxi_out#a_air_time#a_distance_a_origin_state_abr#a_unique_carrier_binary_mm_0
2022-07-07 23:10:52,103 - dataset_utils.py[line:576] - INFO: load dataset(light) time elapsed:0.15333929657936096
2022-07-07 23:10:52,103 - pytorch_cvae.py[line:276] - INFO: feature info:[('a_taxi_out', 'numerical', 1), ('a_air_time', 'numerical', 1), ('a_distance', 'numerical', 1), ('a_origin_state_abr', 'categorical', 7), ('a_unique_carrier', 'categorical', 6)]
2022-07-07 23:10:52,104 - model_utils.py[line:75] - INFO: load model name:torch_cvae_flights2-flight-a_a_origin_state_abr_a_unique_carrier_ld100_id150_bs512_ep150_0_binary_mm
2022-07-07 23:10:54,145 - model_utils.py[line:86] - INFO: load torch model time elapsed:2.0408203527331352
2022-07-07 23:10:54,145 - pytorch_cvae.py[line:286] - INFO: load model time elapsed:2.1958904936909676
2022-07-07 23:10:54,145 - dataset_utils.py[line:567] - INFO: load existing dataset(light):flights2-flight-b_b_origin_state_abr__b_origin_state_abr_binary_mm_0
2022-07-07 23:10:54,169 - dataset_utils.py[line:576] - INFO: load dataset(light) time elapsed:0.02347273752093315
2022-07-07 23:10:54,169 - pytorch_cvae.py[line:276] - INFO: feature info:[('b_origin_state_abr', 'categorical', 7)]
2022-07-07 23:10:54,169 - model_utils.py[line:75] - INFO: load model name:torch_cvae_flights2-flight-b_b_origin_state_abr_ld50_id100_bs512_ep100_0_binary_mm
2022-07-07 23:10:54,171 - model_utils.py[line:86] - INFO: load torch model time elapsed:0.0014772862195968628
2022-07-07 23:10:54,171 - pytorch_cvae.py[line:286] - INFO: load model time elapsed:0.025737613439559937
2022-07-07 23:10:54,171 - main.py[line:525] - INFO: multi_sampling No.0 epoch
2022-07-07 23:10:56,020 - pytorch_cvae.py[line:399] - INFO: sampling time:1.8434362187981606
2022-07-07 23:10:56,096 - pytorch_cvae.py[line:419] - INFO: house sampling rate:0.05
2022-07-07 23:10:56,158 - pytorch_cvae.py[line:399] - INFO: sampling time:0.06211249157786369
2022-07-07 23:10:57,359 - main.py[line:509] - INFO: sample and aggregation time elapsed:3.1873646825551987
2022-07-07 23:10:57,363 - main.py[line:542] - INFO: sample time: 3.1919222436845303
2022-07-07 23:10:57,384 - main.py[line:99] - INFO: aqp result:
                  avg(a_taxi_out)  avg(a_air_time)  avg(a_distance)  \
a_unique_carrier                                                      
9E               17.44            1217.49          697.01             
AA               17.13            1218.97          726.40             
AQ               17.49            1222.77          727.64             
AS               17.26            1216.77          707.77             
B6               17.48            1216.99          707.30             
CO               17.51            1216.12          713.64             
DH               17.99            1217.16          724.95             
DL               17.40            1217.06          744.33             
EV               17.61            1217.63          746.31             
F9               17.16            1217.97          739.71             
FL               17.59            1218.98          747.00             
HA               17.15            1216.59          739.93             
HP               17.75            1220.52          748.60             
MQ               17.48            1215.59          733.47             
NK               17.09            1218.75          748.07             
NW               16.30            1220.51          740.59             
OH (1)           16.88            1219.95          741.77             
OO               16.78            1218.00          735.60             
TW               16.94            1221.74          765.67             
TZ               16.77            1218.46          768.49             
UA               16.97            1219.82          743.20             
US               16.71            1218.58          739.29             
VX               17.04            1220.14          738.71             
WN               16.57            1219.44          724.54             
XE               17.26            1218.80          726.30             
YV               16.63            1222.28          741.43             

                  sum(a_taxi_out)  sum(a_air_time)  sum(a_distance)  
a_unique_carrier                                                     
9E               1035659516.21    72986983583.07   41414977707.02    
AA               9359562828.33    661008339900.51  388401494097.69   
AQ               76274963.73      5432204416.48    3262068260.58     
AS               2056441302.54    146217772360.11  84425369677.91    
B6               1671483005.98    119540799001.47  70540060383.02    
CO               3517285684.00    240360912945.75  137690415836.98   
DH               421951042.85     28487414910.76   17179932659.33    
DL               10223029948.12   704396282331.55  439936937777.24   
EV               3537699943.66    247094922807.41  157938651506.85   
F9               641058027.88     45044599131.89   27719183332.06    
FL               1564007737.93    110266093319.89  69775484065.23    
HA               533031591.86     37512857718.02   22988985822.33    
HP               1365503242.86    96603338726.88   60822446105.58    
MQ               4197857648.95    288147672759.19  172687952125.27   
NK               163759975.34     11845381813.10   7322960485.38     
NW               4125144790.61    310488409604.11  189365687027.13   
OH (1)           1025629952.21    76854120019.19   48359162305.30    
OO               4925614246.69    361284073975.21  220988664798.64   
TW               1055199981.01    78380396467.81   50174980059.69    
TZ               106301391.68     7763626611.94    4854159281.58     
UA               7546883774.15    553446108763.62  351256878030.36   
US               6533130294.13    473046547898.58  288800682948.74   
VX               175438011.10     12910406858.06   8058822382.10     
WN               13931249252.54   1009121781095.93 597084598039.63   
XE               1986846519.91    142925031840.13  87485446393.19    
YV               977153633.97     73586252024.44   45184888410.24    
2022-07-07 23:10:57,387 - main.py[line:100] - INFO: ground truth:
                  sum(a_taxi_out)  avg(a_taxi_out)  sum(a_air_time)  \
a_unique_carrier                                                      
9E               741101698.57     15.15            58880704989.57     
AA               7989875051.98    15.55            619430514363.80    
AQ               86631196.39      15.87            6543460866.54      
AS               1848560227.43    15.43            144331558233.33    
B6               1470850178.74    15.60            113799492628.54    
CO               3106668746.22    15.59            240048308499.97    
DH               367218921.85     15.49            28440016722.48     
DL               8981685488.31    15.57            695773932714.29    
EV               3181962351.09    15.68            244702638367.97    
F9               570577147.90     15.46            44476849990.55     
FL               1395415570.15    15.59            107894733721.66    
HA               494281312.53     15.56            38211095213.40     
HP               1227584010.63    15.51            95391382060.99     
MQ               3759015081.03    15.64            289433438181.99    
NK               147254628.38     15.47            11455447903.05     
NW               3904891886.94    15.58            301859529285.21    
OH (1)           952968179.55     15.37            74636252791.26     
OO               4367541877.63    15.47            340289304596.67    
TW               1004435409.83    15.42            78568723096.25     
TZ               121899826.21     16.84            8729112894.46      
UA               6832602622.78    15.61            527301016058.02    
US               6092371671.52    15.74            466392055985.71    
VX               167606958.73     14.81            13654805413.23     
WN               12522355213.58   15.53            971806211739.94    
XE               1848841981.24    15.61            142753704429.07    
YV               951495612.18     15.81            72725041886.37     

                  avg(a_air_time)  sum(a_distance)  avg(a_distance)  
a_unique_carrier                                                     
9E               1203.99          35711788851.31   730.23            
AA               1205.41          381243748002.27  741.90            
AQ               1198.81          3790834029.22    694.51            
AS               1205.11          88696395636.76   740.58            
B6               1207.26          71473179185.90   758.23            
CO               1204.64          146402774103.50  734.70            
DH               1199.47          16449517708.08   693.76            
DL               1205.97          430329104776.58  745.88            
EV               1205.57          150835474033.21  743.12            
F9               1205.36          27325788632.97   740.55            
FL               1205.30          66527232060.59   743.18            
HA               1203.07          22898614485.52   720.96            
HP               1205.34          58487708653.73   739.03            
MQ               1204.36          176132606008.73  732.90            
NK               1203.73          6925756819.23    727.75            
NW               1204.24          183277498856.54  731.17            
OH (1)           1203.89          45360575256.62   731.67            
OO               1204.93          208420476170.33  738.00            
TW               1206.18          48659767530.98   747.02            
TZ               1205.89          5310019388.65    733.55            
UA               1204.95          322665183451.92  737.33            
US               1204.84          285669645091.13  737.97            
VX               1206.36          8547076307.99    755.11            
WN               1204.92          595750659418.91  738.66            
XE               1205.52          87848470069.39   741.86            
YV               1208.26          46183746721.52   767.30            
2022-07-07 23:10:57,396 - main.py[line:550] - INFO: relative error:
                  avg(a_air_time)  avg(a_distance)  avg(a_taxi_out)  \
a_unique_carrier                                                      
9E               0.01             0.05             0.15               
AA               0.01             0.02             0.10               
AQ               0.02             0.05             0.10               
AS               0.01             0.04             0.12               
B6               0.01             0.07             0.12               
CO               0.01             0.03             0.12               
DH               0.01             0.04             0.16               
DL               0.01             0.00             0.12               
EV               0.01             0.00             0.12               
F9               0.01             0.00             0.11               
FL               0.01             0.01             0.13               
HA               0.01             0.03             0.10               
HP               0.01             0.01             0.14               
MQ               0.01             0.00             0.12               
NK               0.01             0.03             0.10               
NW               0.01             0.01             0.05               
OH (1)           0.01             0.01             0.10               
OO               0.01             0.00             0.08               
TW               0.01             0.02             0.10               
TZ               0.01             0.05             0.00               
UA               0.01             0.01             0.09               
US               0.01             0.00             0.06               
VX               0.01             0.02             0.15               
WN               0.01             0.02             0.07               
XE               0.01             0.02             0.11               
YV               0.01             0.03             0.05               

                  sum(a_air_time)  sum(a_distance)  sum(a_taxi_out)  
a_unique_carrier                                                     
9E               0.24             0.16             0.40              
AA               0.07             0.02             0.17              
AQ               0.17             0.14             0.12              
AS               0.01             0.05             0.11              
B6               0.05             0.01             0.14              
CO               0.00             0.06             0.13              
DH               0.00             0.04             0.15              
DL               0.01             0.02             0.14              
EV               0.01             0.05             0.11              
F9               0.01             0.01             0.12              
FL               0.02             0.05             0.12              
HA               0.02             0.00             0.08              
HP               0.01             0.04             0.11              
MQ               0.00             0.02             0.12              
NK               0.03             0.06             0.11              
NW               0.03             0.03             0.06              
OH (1)           0.03             0.07             0.08              
OO               0.06             0.06             0.13              
TW               0.00             0.03             0.05              
TZ               0.11             0.09             0.13              
UA               0.05             0.09             0.10              
US               0.01             0.01             0.07              
VX               0.05             0.06             0.05              
WN               0.04             0.00             0.11              
XE               0.00             0.00             0.07              
YV               0.01             0.02             0.03              
2022-07-07 23:10:57,398 - main.py[line:551] - INFO: relative error normalized:
                  avg(a_air_time)  avg(a_distance)  avg(a_taxi_out)  \
a_unique_carrier                                                      
9E               0.01             0.04             0.14               
AA               0.01             0.02             0.10               
AQ               0.02             0.05             0.10               
AS               0.01             0.04             0.11               
B6               0.01             0.06             0.11               
CO               0.01             0.03             0.12               
DH               0.01             0.04             0.15               
DL               0.01             0.00             0.11               
EV               0.01             0.00             0.12               
F9               0.01             0.00             0.10               
FL               0.01             0.01             0.12               
HA               0.01             0.03             0.10               
HP               0.01             0.01             0.13               
MQ               0.01             0.00             0.11               
NK               0.01             0.03             0.10               
NW               0.01             0.01             0.05               
OH (1)           0.01             0.01             0.09               
OO               0.01             0.00             0.08               
TW               0.01             0.02             0.09               
TZ               0.01             0.05             0.00               
UA               0.01             0.01             0.08               
US               0.01             0.00             0.06               
VX               0.01             0.02             0.14               
WN               0.01             0.02             0.06               
XE               0.01             0.02             0.10               
YV               0.01             0.03             0.05               

                  sum(a_air_time)  sum(a_distance)  sum(a_taxi_out)  
a_unique_carrier                                                     
9E               0.21             0.15             0.33              
AA               0.06             0.02             0.16              
AQ               0.16             0.13             0.11              
AS               0.01             0.05             0.11              
B6               0.05             0.01             0.13              
CO               0.00             0.06             0.12              
DH               0.00             0.04             0.14              
DL               0.01             0.02             0.13              
EV               0.01             0.05             0.11              
F9               0.01             0.01             0.12              
FL               0.02             0.05             0.11              
HA               0.02             0.00             0.08              
HP               0.01             0.04             0.11              
MQ               0.00             0.02             0.11              
NK               0.03             0.06             0.11              
NW               0.03             0.03             0.05              
OH (1)           0.03             0.06             0.07              
OO               0.06             0.06             0.12              
TW               0.00             0.03             0.05              
TZ               0.10             0.08             0.12              
UA               0.05             0.08             0.10              
US               0.01             0.01             0.07              
VX               0.05             0.06             0.05              
WN               0.04             0.00             0.11              
XE               0.00             0.00             0.07              
YV               0.01             0.02             0.03              
2022-07-07 23:10:57,398 - main.py[line:554] - INFO: relative error average: 0.05673751472308657
2022-07-07 23:10:57,398 - main.py[line:555] - INFO: relative error normalized average: 0.05367789549468325
2022-07-07 23:10:57,402 - main.py[line:601] - INFO: total_time:5.453325226902962
categorical_columns: ['a_origin_state_abr_0', 'a_origin_state_abr_1', 'a_origin_state_abr_2', 'a_origin_state_abr_3', 'a_origin_state_abr_4', 'a_origin_state_abr_5', 'a_origin_state_abr_6', 'a_unique_carrier_0', 'a_unique_carrier_1', 'a_unique_carrier_2', 'a_unique_carrier_3', 'a_unique_carrier_4', 'a_unique_carrier_5']
categorical_columns: ['b_origin_state_abr_0', 'b_origin_state_abr_1', 'b_origin_state_abr_2', 'b_origin_state_abr_3', 'b_origin_state_abr_4', 'b_origin_state_abr_5', 'b_origin_state_abr_6']
